<div class="session-card lesson-card">

    {% if sidebar %}

    
  <div class="horizontal-display header-session-card"
  style="justify-content:space-between;"
  >
    <div class="flex" style="gap:.5rem;" >
          <img
      {% if not avatar_path %}
        style="display:none;"
      {% endif %}
          src="{{ avatar_path }}" class="avatar" >
      <p><a href="/profile?user_id={{ userId }}">{{userName}}</a></p>
    </div>


      {% if ownLesson %}

      <h3 class="lesson-title"> {{ traduction('vousEnseignez') }}
      </h3>

      {% else %}

      <h3 class="lesson-title"> {{ traduction('vousApprenez') }}

      </h3>

      {% endif %}

      </div>

    {% else %}


  <div class="horizontal-display header-session-card">
    <div class="flex" style="gap:.5rem;" >
          <img
      {% if not avatar_path %}
        style="opacity:0;"
      {% endif %}
          src="{{ avatar_path }}" class="avatar" >
      <p><a href="/profile?user_id={{ userId }}">{{userName}}</a></p>
    </div>

      <h3 class="lesson-title">{{ traduction('lesson') }}</h3>
      <div class="flex" style="gap:.5rem; opacity : 0;" >
        <img src="{{ avatar_path }}" class="avatar" >
      <p><a href="/profile?user_id={{ userId }}">{{userName}}</a></p>
      </div>

      </div>

    {% endif %}



  <div class="horizontal-display">
    
    <div class="vertical-display horizontal-sidebar">
      
      {% if skill_taught_category_id is defined and skill_taught_category_id is not empty %}
        {% set catId = skill_taught_category_id|number_format(0, '', '') %}
        <p>{{traduction('categorie')}} : {{ categoriesIndexed[catId]['name']|default('') }}</p>
      {% elseif categoryLearned is not empty %}
        <p>{{traduction('categorie')}} : {{ categoryLearned }}</p>
      {% else %}
        <p>{{traduction('categorie')}} : Non spécifiée</p>
      {% endif %}

      <p>{{traduction('competence')}} : {{ skillLearned }}</p>

    </div>


    <div>
    </div>

    <div class="vertical-display location-part">
      
      <p>{{traduction('lieu')}} : {{ adresse }}</p>

      <p>{{traduction('date')}} : {{ date }}, {{endTime|date('H:i')}} </p>

    </div>

  </div>


{% if sidebar %}
      <span class="date-info">
      {{dateDebut}}
      <br>
{{ startTime|date('H:i') }} - {{ endTime|date('H:i') }}
      </span>

{% endif %}
        {% if user %}

            <form action="/rejoindreCours/{{ session_id }}" method="POST">
                <button class="form-button green-bg" style="width:100%" type="submit">{{traduction('rejoindreCours')}}</button>
            </form>

        {% else %}
        <a href="/login">
            <button style="width:100%" class="form-button green-bg" type="button">{{traduction('rejoindreCours')}}</button>
        </a>
        {% endif %}



</div>
